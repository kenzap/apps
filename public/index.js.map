{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/_/_cnt_home.js","../../src/home/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __init = (locale) => {\n\n    if(typeof locale !== 'object' || locale === null) return;\n\n    if(typeof window.i18n === 'undefined') window.i18n = {};\n\n    if(typeof window.i18n.state === 'undefined') window.i18n.state = { locale: {} };\n   \n    window.i18n.state.locale = locale;\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __ = (text, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n\n\n    return match(window.i18n.state.locale.values[text], p);\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param cb {Function} callback function to escape text variable\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nconst __esc = (text, cb, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n    return match(cb(window.i18n.state.locale.values[text]), p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const attr = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __attr = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Removes special characters `<`, `>`, `\"`, `'` from the link.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const src = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[<>'\"]/g, tag => (\n        {\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n    \n}\n\n/*\n * Converts special characters `<`, `>`, `\"`, `'` from the link and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __src = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const html = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translations\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __html = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[&<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name spaceID\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const spaceID = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.cloud subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.cloud\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name checkHeader\n * @description This function tracks UI updates, creates header version checksum and compares it after every page reload\n * @param {object} object - API response.\n */\n export const checkHeader = () => {\n\n    let version = (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0;\n    let check = window.location.hostname + '/' + spaceID() + '/' + getCookie('locale');\n    if(check != getCookie('check')){ version = 0; console.log('refresh'); }\n    \n    setCookie('check', check, 5);\n\n    return version\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries.\n * @param {object} headers\n */\n export const H = () => {\n\n    return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n        'Kenzap-Header': checkHeader(),\n        'Kenzap-Token': getCookie('kenzap_token'),\n        'Kenzap-Sid': spaceID()\n    }\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n * @deprecated\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n    'Kenzap-Header': checkHeader(),\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': spaceID(),\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\n export const parseApiError = (data) => {\n\n    // outout to frontend console\n    console.log(data);\n\n    // unstructured failure\n    if(isNaN(data.code)){\n    \n        // structure failure data\n        let log = data;\n        try{ log = JSON.stringify(log); }catch(e){ }\n\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"report\");\n        params.append(\"sid\", spaceID());\n        params.append(\"token\", getCookie('kenzap_token'));\n        params.append(\"data\", log);\n        \n        // report error\n        fetch('https://api-v1.kenzap.cloud/error/', { method: 'post', headers: { 'Accept': 'application/json', 'Content-type': 'application/x-www-form-urlencoded', }, body: params });\n\n        alert('Can not connect to Kenzap Cloud');  \n        return;\n    }\n    \n    // handle cloud error codes\n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+window.location.href; break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center\" style=\"z-index:10000;\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name getParam\n * @description Get URL param.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const getParam = (p) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(p) ? urlParams.get(p) : \"\";\n}\n\nexport const formatTime = (timestamp) => {\n\t\n    let a = new Date(timestamp * 1000);\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\n\nexport const replaceQueryParam = (param, newval, search) => {\n\n    let regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n    let query = search.replace(regex, \"$1\").replace(/&$/, '');\n\n    return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n}\n\nexport const getPageNumberOld = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPageNumber = () => {\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let page = urlParams.get('page') ? urlParams.get('page') : 1;\n\n    return parseInt(page);\n}\n\nexport const getPagination = (__, meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = __('no records to display'); return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = __(\"Showing %1$ to %2$ of %3$ entries\", (1+meta.offset), (offset), meta.total_records);\n    //  \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat mb-0\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?i:i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        \n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                // let url = window.location.href.split('/page');\n                // let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                let str = window.location.search;\n                str = replaceQueryParam('page', p, str);\n                // window.location = window.location.pathname + str\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, window.location.pathname + str);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}","import { __html, html } from '@kenzap/k-cloud';\n\nexport const HTMLContent = (__) => {\n \n    return `\n        <div class=\"container p-edit\">\n            <div class=\"d-flex justify-content-between bd-highlight mb-3\">\n                <nav class=\"bc\" aria-label=\"breadcrumb\"></nav>\n                <div class=\"d-none-\">\n                    <button class=\"btn btn-primary btn-new-app d-flex align-items-center\" type=\"button\">\n                        <span class=\"d-flex\" role=\"status\" aria-hidden=\"true\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-plus-circle me-2\" viewBox=\"0 0 16 16\">\n                                <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                                <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\n                        </span> ${ __html('New application') }\n                    </button>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div id=\"mydata-chart\"></div>\n            </div>\n        </div>\n\n        <div class=\"modal\" tabindex=\"-1\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\"></h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-primary btn-modal\"></button>\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    `;\n}","// dependencies\nimport { showLoader, hideLoader, __html, html, initHeader, initFooter, initBreadcrumbs, parseApiError, slugify, onClick, spaceID, toast, onKeyUp, H, link } from '@kenzap/k-cloud';\nimport { getCookie, getPageNumber } from \"../_/_helpers.js\"\nimport { HTMLContent } from \"../_/_cnt_home.js\"\n\nclass Dashboard{\n\n    // init class\n    constructor(_this, id){\n        \n        this.state = {\n            firstLoad: true,\n            html: '',\n            data: {},\n            ajaxQueue: 0,\n            limit: 25,\n            responseKey: [],\n            modal: null,\n            modalCont: null,\n            editor: {},\n        };\n    \n        // init user authentication\n        this.getData();\n    }\n\n    // load data\n    getData = () => {\n\n        // show loader during first load\n        if (this.state.firstLoad) showLoader();\n\n        let s = \"\";\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    keys: {\n                        type:       'api-key',\n                        keys:       ['private']\n                    },\n                    locale: {\n                        type:       'locale',\n                        id:         getCookie('lang')\n                    },\n                    apps: {\n                        type:       'find',\n                        key:        'application',\n                        fields:     ['_id', 'id', 'img', 'status', 'title', 'description', 'keywords', 'users', 'updated'],\n                        limit:      this.state.limit,\n                        offset:     s.length > 0 ? 0 : getPageNumber() * this.state.limit - this.state.limit,    // automatically calculate the offset of table pagination\n                        search:     {                                                           // if s is empty search query is ignored\n                                        field: 'title',\n                                        s: s\n                                    },\n                        sortby:     {\n                                        field: 'created',\n                                        order: 'DESC'\n                                    },\n                    },\n                    dashboard: {\n                        type:       'dashboard',\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            if(response.success){\n\n                this.state.response = response;\n\n                console.log(this.state.response);\n\n                // init header\n                initHeader(response);\n\n                // get core html content \n                this.html();  \n\n                // render table\n                this.render();\n\n                // listeners\n                this.listeners();\n\n                // initiate footer\n                initFooter(__('Created by %1$Kenzap%2$. ❤️ Licensed %3$GPL3%4$.', '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>', '<a class=\"text-muted\" href=\"https://github.com/kenzap/apps\" target=\"_blank\">', '</a>'), '');\n                \n                // first load\n                this.state.firstLoad = false;\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    }\n\n    // assign class html\n    html = () => {\n\n        document.querySelector('#contents').innerHTML = HTMLContent();\n\n        // document.querySelector('body').insertAdjacentHTML('afterbegin', HTMLContent());\n    }\n\n    // render class html\n    render = () => {\n\n        let self = this;\n        \n        // initiate breadcrumbs\n        initBreadcrumbs(\n            [\n                { link: link('https://dashboard.kenzap.cloud?launcher=mydata'), text: __('Home') },\n                { text: __('Applications') },\n            ]\n        );\n\n        // _this.state.dashboard = response.dashboard;\n\n        /**\n         * ---------------------------------------\n         * This demo was created using amCharts 4.\n         *\n         * For more information visit:\n         * https://www.amcharts.com/\n         *\n         * Documentation is available at:\n         * https://www.amcharts.com/docs/v4/\n         * ---------------------------------------\n         * \n         * Examples\n         * https://www.amcharts.com/demos/collapsible-force-directed-tree/\n         * https://codepen.io/team/amcharts/pen/vYBPJNy\n         */\n\n        am4core.useTheme(am4themes_animated);\n\n        let chart = am4core.create(\"mydata-chart\", am4plugins_forceDirected.ForceDirectedTree);\n        // chart.legend = new am4charts.Legend();\n        let networkSeries = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries())\n        let myData = [];\n        let ti = 0;\n        // console.log(response);\n\n        // get parent nodes\n        let parentNodes = {};\n\n        // console.log(self.state.response.apps);\n        self.state.response.apps.forEach((el, i) => {\n            \n            myData.push({\n                name: el.title,\n                value: 16,\n                // fixed: true,\n                // x: am4core.percent(10+(i*20)),\n                // y: am4core.percent(50),  \n                // children: children,\n            });\n\n            // let key_parts = el.key.split('-');\n            // if(key_parts.length > 1){\n\n            //     // let key_start = key_parts.map((s,i) => i < key_parts.length - 1 ? s : \"\").join('-');\n            //     // let key_end = key_parts[key_parts.length-1];\n            //     let key_start = key_parts[0];\n\n            //     if(!parentNodes[key_start]){ parentNodes[key_start] = el.count; }else{ parentNodes[key_start] += el.count; }\n            // }else{\n\n            //     if(!parentNodes[el.key]){ parentNodes[el.key] = el.count}else{ parentNodes[el.key] += el.count; }\n            // }\n        });\n\n        // console.log(parentNodes);\n\n        // Object.entries(parentNodes).forEach((el, i) => {\n\n        //     console.log(el);\n\n        //     // let slug = el[0].split('-');\n        //     let key_parts = el[0].split('-');\n        //     // let key_start = key_parts.map((s,i) => i < key_parts.length - 1 ? s : \"\").join('-');\n        //     let key_start = key_parts[0];\n\n        //     let children = [];\n        //     self.state.response.apps.data.forEach((elc, i) => {\n\n        //         if(elc.key.startsWith(key_start+'-')){\n\n        //             children.push({name: elc.key + ' ' + elc.count, value: 5});\n        //         }\n        //     });\n\n        //     children.push({name: el[0] + ' ' + el[1], value: 5});\n\n        //     myData.push({\n        //         name: el[0],\n        //         value: 8,\n        //         // fixed: true,\n        //         // x: am4core.percent(10+(i*20)),\n        //         // y: am4core.percent(50),  \n        //         children: children,\n        //     });\n        // });\n\n        // console.log(myData);\n\n        networkSeries.data = myData;\n\n        networkSeries.dataFields.linkWith = \"linkWith\";\n        networkSeries.dataFields.category = \"category\";\n        networkSeries.dataFields.name = \"name\";\n        networkSeries.dataFields.id = \"name\";\n        networkSeries.dataFields.value = \"value\";\n        networkSeries.dataFields.children = \"children\";\n        networkSeries.dataFields.fixed = \"fixed\";\n\n        networkSeries.nodes.template.propertyFields.x = \"x\";\n        networkSeries.nodes.template.propertyFields.y = \"y\";\n\n        networkSeries.nodes.template.tooltipText = \"{name}\";\n        networkSeries.nodes.template.fillOpacity = 1;\n\n        networkSeries.nodes.template.label.text = \"{name}\"\n        networkSeries.fontSize = 8;\n        networkSeries.maxLevels = 3;\n        networkSeries.nodes.template.label.hideOversized = true;\n        networkSeries.nodes.template.label.truncate = true;\n        networkSeries.nodes.template.draggable = true;\n        networkSeries.nodePadding = 10;\n\n        networkSeries.nodes.template.events.on(\"hit\", function(ev){\n\n            // let circle = ev.target.label.currentText.split(\" \");\n\n            self.state.modalCont = null;\n\n            self.viewApp(ev.target.label.currentText);\n            // console.log(ev.target.label.currentText);\n\n\n            // if(circle.length>1) self.getKeyData(circle[0]);\n\n        }, this);\n\n        hideLoader();\n    }\n\n    // all listeners and events\n    listeners = () => {\n\n        let self = this;\n\n        // prevents listeners to be assigned twice\n        if(!self.state.firstLoad) return;\n\n        // add layout listener\n        onClick('.btn-new-app', self.newApp);\n\n        // // domain change listener\n        // onClick('.domain-list li a', _this.listeners.domainChange);\n        \n        // // add product confirm\n        // onClick('.btn-modal', _this.listeners.modalSuccessBtn);\n    }\n\n    newApp = (e) => {\n\n        e.preventDefault();\n\n        let self = this;\n        \n        if(self.state.modalCont || self.state.modal) self.state.modalCont.hide();\n\n        // defaults\n        let app = { title: \"\", description: \"\", keywords: \"\" };\n        let isNew = true;\n\n        self.state.modal = document.querySelector(\".modal\");\n        self.state.modalCont = new bootstrap.Modal(self.state.modal);\n        history.pushState({pageID: 'Data'}, 'Data', window.location.pathname + window.location.search + \"#modal\");\n        \n        self.state.modal.querySelector(\".modal-dialog\").classList.add('modal-lg');\n\n        // header\n        self.state.modal.querySelector(\".modal-header .modal-title\").innerHTML = __html('Create Application');\n\n        // modal\n        self.state.modal.querySelector(\".modal-body\").innerHTML = `\n\n            <div class=\"form-cont ge-form\">\n\n                <div class=\"form-group row mb-3\" >\n                    <label for=\"app-title\" class=\"form-label col-lg-3 col-form-label\">${ __html('Title') }</label>\n                    <div class=\"col-lg-9\">\n                        <input type=\"text\" class=\"form-control form-control-lg\" id=\"app-title\" autocomplete=\"off\" placeholder=\"\" value=\"${ app.title }\" maxlength=\"12\">\n                        <div class=\"invalid-feedback app-title-notice\"></div> \n                        <p class=\"form-text\">${ __html('Application title can be only defined once.') }</p>\n                    </div>\n                </div>\n        \n                <div class=\"form-group row mb-3\">\n                    <label for=\"app-description\" class=\"form-label col-lg-3 col-form-label\">${__html('Description')}</label>\n                    <div class=\"col-lg-9\">\n                        <textarea id=\"app-description\" maxlength=\"1000\" class=\"form-control\" name=\"app-description\" >${ app.description }</textarea>\n                        <div class=\"invalid-feedback app-description-notice\"></div>\n                        <ul class=\"list-group list-group-flush goods-suggestion mt-2\" style=\"font-size: 14px;max-height:120px;overflow:scroll;\">\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po \" style=\"cursor: pointer;\" data-i=\"0\">\n\n                                Deployments\n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n\n                            </li>\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po\" data-i=\"1\">\n                            \n                                Replicasets\n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n                                \n                            </li>\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po\" data-i=\"2\">\n\n                                Pods    \n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n\n                            </li>\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po\" data-i=\"3\">\n                            \n                                Services\n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n\n                            </li>\n                        </ul>\n                        <p class=\"form-text\">${__html('Trade description of goods and marks and numbers, if any. Ex.: watch with serial #1234.')}</p>\n                    </div>\n                    \n                </div>\n                \n                <div class=\"form-group row mb-3\">\n                    <label for=\"app-keywords\" class=\"form-label col-lg-3 col-form-label\">${__html('Keywords')}</label>\n                    <div class=\"col-lg-9\">\n                        <input type=\"text\" class=\"form-control form-control-lg\" id=\"app-keywords\" autocomplete=\"off\" placeholder=\"\" value=\"${ app.keywords }\" maxlength=\"200\">\n                        <div class=\"invalid-feedback app-keywords-notice\"></div> \n                        <p class=\"form-text\">${ __html('Separate keywords by \",\". Ex.: slider, banner, image.') }</p>\n                    </div>\n                </div>\n\n            </div>`;\n\n        // buttons\n        self.state.modal.querySelector('.modal-footer').innerHTML = `\n            <button type=\"button\" class=\"btn btn-primary btn-modal btn-update-app\">${ __html('Create') }</button>\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">${ __html('Close') }</button>\n        `;\n\n        // // search records\n        // onKeyUp('.input-search', e => {\n\n        //     e.preventDefault();\n\n        //     if(_this.state.timeout) clearTimeout(_this.state.timeout);\n\n        //     _this.state.timeout = setTimeout((_this) => { _this.getKeyData(key); }, 600, _this);\n        // });\n        // // rever from editing back to table view\n        // _this.state.modal.querySelector('.restart-table').addEventListener('click', e => {\n\n        //     _this.state.modal.querySelector('.restart-table').classList.add('d-none');\n        //     _this.state.modal.querySelector('.btn-update-record').classList.add('d-none');\n        //     _this.getKeyData(key);\n        // });\n\n        // save changes\n        self.state.modal.querySelector('.btn-update-app').addEventListener('click', e => {\n            \n            // validate data\n            let data = {};\n            data.title = self.state.modal.querySelector(\"#app-title\").value.trim();\n            data.description = self.state.modal.querySelector(\"#app-description\").value.trim();\n            data.keywords = self.state.modal.querySelector(\"#app-keywords\").value.trim();\n            data.status = \"0\";\n            data.img = [];\n            data.cats = [];\n\n            if(data.title.length<2){ alert( __('Please provide longer title') ); return; }\n\n            // create new application\n            if(isNew){\n\n                // send data\n                fetch('https://api-v1.kenzap.cloud/', {\n                    method: 'post',\n                    headers: H(),\n                    body: JSON.stringify({\n                        query: {\n                            product: {\n                                type:       'create',\n                                key:        'application',   \n                                data:       data\n                            }\n                        }\n                    }) \n                })\n                .then(response => response.json())\n                .then(response => {\n\n                    if (response.success){\n\n                        toast( __html('Application created') );\n\n                        self.state.modalCont.hide();\n\n                        self.getData();\n\n                        // open product editing page\n                        // window.location.href = link(`/product-edit/?id=${ response.product.id}`)\n\n                    }else{\n\n                        parseApiError(response);\n                    }\n                })\n                .catch(error => { parseApiError(error); });\n                \n\n            // update existing application\n            }else{\n    \n                // send data\n                fetch('https://api-v1.kenzap.cloud/', {\n                    method: 'post',\n                    headers: H(),\n                    body: JSON.stringify({\n                        query: {\n                            record: {\n                                type:       'update',\n                                key:        'application',\n                                id:         this.state._id,         \n                                data:       data\n                            }\n                        }\n                    }) \n                })\n                .then(response => response.json())\n                .then(response => {\n\n                    if (response.success){\n\n                        toast( __html('Application updated') );\n\n                        self.state.modalCont.hide();\n\n                        self.getData();\n\n                        // _this.state.modal.querySelector('.restart-table').classList.add('d-none');\n                        // _this.state.modal.querySelector('.btn-update-record').classList.add('d-none');\n                        // _this.getKeyData(key);\n\n                    }else{\n\n                        parseApiError(response);\n                    }\n                })\n                .catch(error => { parseApiError(error); });\n            }\n        });\n\n        self.state.modalCont.show();\n    }\n\n    viewApp = (title) => {\n\n        let self = this;\n        \n        // if(self.state.modalCont || self.state.modal) self.state.modalCont.hide();\n\n        let slug = slugify(title);\n\n        let app = self.state.response.apps.filter(el => el.title == title)[0]\n\n        if(!app) return;\n\n        self.state.modal = document.querySelector(\".modal\");\n        self.state.modalCont = new bootstrap.Modal(self.state.modal);\n        history.pushState({pageID: 'Data'}, 'Data', window.location.pathname + window.location.search + \"#modal\");\n        \n        self.state.modal.querySelector(\".modal-dialog\").classList.add('modal-lg');\n\n        // header\n        self.state.modal.querySelector(\".modal-header .modal-title\").innerHTML = title;\n\n        // modal\n        self.state.modal.querySelector(\".modal-body\").innerHTML = `\n\n            <div class=\"form-cont ge-form\">\n                <img style=\"width:100%;max-height:300px;\" class=\"mb-3\" src=\"/assets/images/application-1.svg\">\n                <div class=\"form-group row mb-3 d-none\"\">\n                    <label for=\"app-title\" class=\"form-label col-lg-3 col-form-label\">${ __html('Title') }</label>\n                    <div class=\"col-lg-9\">\n                        <input type=\"text\" class=\"form-control form-control-lg\" id=\"app-title\" autocomplete=\"off\" placeholder=\"\" value=\"${ app.title }\" maxlength=\"12\">\n                        <div class=\"invalid-feedback app-title-notice\"></div> \n                        <p class=\"form-text\">${ __html('Application title can be only defined once.') }</p>\n                    </div>\n                </div>\n        \n                <div class=\"form-group row mb-3\">\n                    <label for=\"app-description\" class=\"form-label col-lg-3 col-form-label\">${__html('Description')}</label>\n                    <div class=\"col-lg-9\">\n                        <textarea id=\"app-description\" maxlength=\"1000\" class=\"form-control\" name=\"app-description\" >${ app.description }</textarea>\n                        <div class=\"invalid-feedback app-description-notice\"></div>\n                        <ul class=\"list-group list-group-flush goods-suggestion mt-2\" style=\"font-size: 14px;max-height:120px;overflow:scroll;\">\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po \" style=\"cursor: pointer;\" data-i=\"0\">\n\n                                Watch with serial #1234\n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n\n                            </li>\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po\" data-i=\"1\">\n                            \n                                BMW 535 WIN 15445432458 \n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n                                \n                            </li>\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po\" data-i=\"2\">\n\n                                Flash memory 8GB\n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n\n                            </li>\n                            <li class=\"list-group-item d-flex justify-content-between text-muted po\" data-i=\"3\">\n                            \n                                Golden ring 88888975\n                                <div class=\"\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-files text-end po\" viewBox=\"0 0 16 16\" role=\"graphics-symbol\">\n                                        <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\"/>\n                                    </svg>\n                                </div>\n\n                            </li>\n                        </ul>\n                        <p class=\"form-text\">${__html('Trade description of goods and marks and numbers, if any. Ex.: watch with serial #1234.')}</p>\n                    </div>\n                    \n                </div>\n                \n                <div class=\"form-group row mb-3\">\n                    <label for=\"app-keywords\" class=\"form-label col-lg-3 col-form-label\">${__html('Keywords')}</label>\n                    <div class=\"col-lg-9\">\n                        <input type=\"text\" class=\"form-control form-control-lg\" id=\"app-keywords\" autocomplete=\"off\" placeholder=\"\" value=\"${ app.keywords }\" maxlength=\"200\">\n                        <div class=\"invalid-feedback app-keywords-notice\"></div> \n                        <p class=\"form-text\">${ __html('Separate keywords by \",\". Ex.: slider, banner, image.') }</p>\n                    </div>\n                </div>\n\n            </div>`;\n\n        // buttons\n        self.state.modal.querySelector('.modal-footer').innerHTML = `\n            <button type=\"button\" class=\"btn btn-primary btn-modal btn-download-app\">${ __html('Get Boilerplate') }</button>\n            <button type=\"button\" class=\"btn btn-primary btn-modal btn-update-app d-none\">${ __html('Create') }</button>\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">${ __html('Close') }</button>\n        `;\n        \n\n        self.state.modalCont.show();\n    }\n\n    // sync html with data\n    cache = () => {\n\n        localStorage.setItem(this.id, JSON.stringify(this.state));\n    }\n}\n\nnew Dashboard();\n\n\n// // where everything happens\n// const _this = { \n\n//     state: {\n//         firstLoad: true,\n//         html: '',\n//         data: {},\n//         ajaxQueue: 0,\n//         limit: 25,\n//         responseKey: [],\n//         modal: null,\n//         modalCont: null,\n//         editor: {},\n//     },\n//     init: () => {\n        \n//         _this.getData();\n    \n//     },\n//     getData: () => {\n\n//         // show loader during first load\n//         if (_this.state.firstLoad) showLoader();\n\n//         // do API query\n//         fetch('https://api-v1.kenzap.cloud/', {\n//             method: 'post',\n//             headers: H(),\n//             body: JSON.stringify({\n//                 query: {\n//                     keys: {\n//                         type:       'api-key',\n//                         keys:       ['private']\n//                     },\n//                     locale: {\n//                         type:       'locale',\n//                         id:         getCookie('lang')\n//                     },\n//                     mydata: {\n//                         type:       'mydata',\n//                     },\n//                     dashboard: {\n//                         type:       'dashboard',\n//                     }\n//                 }\n//             })\n//         })\n//         .then(response => response.json())\n//         .then(response => {\n\n//             if(response.success){\n\n//                 // init header\n//                 initHeader(response);\n\n//                 // get core html content \n//                 _this.loadHomeStructure();  \n\n//                 // render table\n//                 _this.renderPage(response);\n\n//                 // listeners\n//                 _this.initListeners();\n\n//                 // initiate footer\n//                 _this.initFooter();\n\n//                 // first load\n//                 _this.state.firstLoad = false;\n\n\n//             }else{\n\n//                 parseApiError(response);\n//             }\n//         })\n//         .catch(error => {\n//             console.error('Error:', error);\n//         });\n//     },\n//     getExtensions: () => {\n        \n//         // console.log('getQRHTML');\n\n//         // init params\n//         let params = new URLSearchParams();\n//         params.append(\"cmd\", \"preview_extensions\");\n//         params.append(\"s\", '');\n//         params.append(\"token\", getCookie('kenzap_token'));\n\n//         // do API query\n//         fetch('https://siteapi.kenzap.cloud/v1/', {\n//             method: 'post',\n//             headers: {\n//                 'Accept': 'application/json',\n//                 'Content-type': 'application/x-www-form-urlencoded',\n//             },\n//             body: params\n//         })\n//         .then(response => response.json())\n//         .then(response => {\n\n//             if(response.success){\n            \n//                 console.log(response);\n\n\n//             }else{\n\n\n//             }\n//         })\n//         .catch(error => {\n//             console.error('Error:', error);\n//         });\n//     }, \n//     renderPage: (response) => {\n\n//         // initiate breadcrumbs\n//         initBreadcrumbs(\n//             [\n//                 { link: link('https://dashboard.kenzap.cloud?launcher=mydata'), text: __('Home') },\n//                 { text: __('Applications') },\n//             ]\n//         );\n\n//         _this.state.dashboard = response.dashboard;\n\n//         /**\n//          * ---------------------------------------\n//          * This demo was created using amCharts 4.\n//          *\n//          * For more information visit:\n//          * https://www.amcharts.com/\n//          *\n//          * Documentation is available at:\n//          * https://www.amcharts.com/docs/v4/\n//          * ---------------------------------------\n//          * \n//          * Examples\n//          * https://www.amcharts.com/demos/collapsible-force-directed-tree/\n//          * https://codepen.io/team/amcharts/pen/vYBPJNy\n//          */\n\n//         am4core.useTheme(am4themes_animated);\n\n//         let chart = am4core.create(\"mydata-chart\", am4plugins_forceDirected.ForceDirectedTree);\n//         // chart.legend = new am4charts.Legend();\n//         let networkSeries = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries())\n//         let myData = [];\n//         let ti = 0;\n//         // console.log(response);\n\n//         // get parent nodes\n//         let parentNodes = {};\n//         response.mydata.data.forEach((el, i) => {\n            \n//             let key_parts = el.key.split('-');\n//             if(key_parts.length > 1){\n\n//                 // let key_start = key_parts.map((s,i) => i < key_parts.length - 1 ? s : \"\").join('-');\n//                 // let key_end = key_parts[key_parts.length-1];\n//                 let key_start = key_parts[0];\n\n//                 if(!parentNodes[key_start]){ parentNodes[key_start] = el.count; }else{ parentNodes[key_start] += el.count; }\n//             }else{\n\n//                 if(!parentNodes[el.key]){ parentNodes[el.key] = el.count}else{ parentNodes[el.key] += el.count; }\n//             }\n//         });\n\n//         console.log(parentNodes);\n\n//         Object.entries(parentNodes).forEach((el, i) => {\n\n//             console.log(el);\n\n//             // let slug = el[0].split('-');\n//             let key_parts = el[0].split('-');\n//             // let key_start = key_parts.map((s,i) => i < key_parts.length - 1 ? s : \"\").join('-');\n//             let key_start = key_parts[0];\n\n//             let children = [];\n//             response.mydata.data.forEach((elc, i) => {\n\n//                 if(elc.key.startsWith(key_start+'-')){\n\n//                     children.push({name: elc.key + ' ' + elc.count, value: 5});\n//                 }\n//             });\n\n//             children.push({name: el[0] + ' ' + el[1], value: 5});\n\n//             myData.push({\n//                 name: el[0],\n//                 value: 8,\n//                 // fixed: true,\n//                 // x: am4core.percent(10+(i*20)),\n//                 // y: am4core.percent(50),  \n//                 children: children,\n//             });\n//         });\n\n//         console.log(myData);\n\n//         networkSeries.data = myData;\n\n//         networkSeries.dataFields.linkWith = \"linkWith\";\n//         networkSeries.dataFields.category = \"category\";\n//         networkSeries.dataFields.name = \"name\";\n//         networkSeries.dataFields.id = \"name\";\n//         networkSeries.dataFields.value = \"value\";\n//         networkSeries.dataFields.children = \"children\";\n//         networkSeries.dataFields.fixed = \"fixed\";\n\n//         networkSeries.nodes.template.propertyFields.x = \"x\";\n//         networkSeries.nodes.template.propertyFields.y = \"y\";\n\n//         networkSeries.nodes.template.tooltipText = \"{name}\";\n//         networkSeries.nodes.template.fillOpacity = 1;\n\n//         networkSeries.nodes.template.label.text = \"{name}\"\n//         networkSeries.fontSize = 8;\n//         networkSeries.maxLevels = 3;\n//         networkSeries.nodes.template.label.hideOversized = true;\n//         networkSeries.nodes.template.label.truncate = true;\n//         networkSeries.nodes.template.draggable = true;\n//         networkSeries.nodePadding = 10;\n\n//         networkSeries.nodes.template.events.on(\"hit\", function(ev){\n\n//             let circle = ev.target.label.currentText.split(\" \");\n\n//             _this.state.modalCont = null;\n\n//             // console.log(ev.target);\n//             if(circle.length>1) _this.getKeyData(circle[0]);\n\n//         }, this);\n\n//         hideLoader();\n//     },\n//     getKeyData: (key) => {\n\n//         let s = document.querySelector('.input-search') ? document.querySelector('.input-search').value : \"\";\n\n//         fetch('https://api-v1.kenzap.cloud/', {\n//             method: 'post',\n//             headers: H(),\n//             body: JSON.stringify({\n//                 query: {\n//                     data: {\n//                         type:       'find',\n//                         key:         key,\n//                         fields:     '*',\n//                         search:     {                                                           // if s is empty search query is ignored\n//                             s: s\n//                         },\n//                         // term: {\n//                         //     type:       'string',\n//                         //     field:      'ReceiptNumber',\n//                         //     value:       '',\n//                         //     relation:   _this.state.paid == \"Paid\" ? '!=' : '='\n//                         // },\n//                         sortby: {\n//                             field: 'updated',\n//                             order: 'DESC'\n//                         },\n//                         offset:     s.length > 0 ? 0 : getPageNumber() * _this.state.limit - _this.state.limit,\n//                         limit:      _this.state.limit,\n//                     }\n//                 }\n//             })\n//         })\n//         .then(response => response.json())\n//         .then(response => {\n\n//             if(response.success){\n\n//                 _this.state.responseKey = response;\n\n//                 _this.viewDataSets(key, response);\n\n//                 console.log(response);\n//             }\n//         })\n//         .catch(error => { parseApiError(error); });\n//     },\n//     initListeners: () => {\n\n//         // prevents listeners to be assigned twice\n//         if(!_this.state.firstLoad) return;\n\n//         // add layout listener\n//         onClick('.btn-publish', _this.listeners.publish);\n\n//         // domain change listener\n//         onClick('.domain-list li a', _this.listeners.domainChange);\n        \n//         // add product confirm\n//         onClick('.btn-modal', _this.listeners.modalSuccessBtn);\n//     },\n//     listeners: {\n\n//         modalSuccessBtn: (e) => {\n            \n//             _this.listeners.modalSuccessBtnFunc(e);\n//         },\n//         modalSuccessBtnFunc: null\n//     },\n//     viewDataSets: (key, response) => {\n\n//         _this.state.key = key;\n\n//         if(!_this.state.modalCont || !_this.state.modal){\n\n//             _this.state.modal = document.querySelector(\".modal\");\n//             _this.state.modalCont = new bootstrap.Modal(_this.state.modal);\n//             history.pushState({pageID: 'Data'}, 'Data', window.location.pathname + window.location.search + \"#editing\");\n//             _this.state.modal.querySelector(\".modal-dialog\").classList.add('modal-fullscreen');\n\n//             // header\n//             _this.state.modal.querySelector(\".modal-header .modal-title\").innerHTML = `\n//             <div class=\"d-flex align-items-center\">\n//                 <input type=\"text\" style=\"width:320px;\" placeholder=\"${ __html('Search in %1$', key) }\" class=\"form-control fs-6 border-top-0 border-start-0 input-search border-end-0 rounded-0 ms-2\" aria-label=\"${ __html('Search') }\" aria-describedby=\"inputGroup-sizing-sm\" >\n//                 <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"ms-2 bi bi-list po restart-table d-none\" viewBox=\"0 0 16 16\">\n//                     <path fill-rule=\"evenodd\" d=\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\n//                 </svg>\n//             </div>\n//             `;\n\n//             // buttons\n//             _this.state.modal.querySelector('.modal-footer').innerHTML = `\n//                 <button type=\"button\" class=\"btn btn-primary btn-modal btn-update-record d-none\">${ __html('Update') }</button>\n//                 <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">${ __html('Close') }</button>\n//             `;\n\n//             // search records\n//             onKeyUp('.input-search', e => {\n\n//                 e.preventDefault();\n\n//                 if(_this.state.timeout) clearTimeout(_this.state.timeout);\n\n//                 _this.state.timeout = setTimeout((_this) => { _this.getKeyData(key); }, 600, _this);\n//             });\n\n//             // rever from editing back to table view\n//             _this.state.modal.querySelector('.restart-table').addEventListener('click', e => {\n\n//                 _this.state.modal.querySelector('.restart-table').classList.add('d-none');\n//                 _this.state.modal.querySelector('.btn-update-record').classList.add('d-none');\n//                 _this.getKeyData(key);\n//             });\n\n//             // save changes\n//             _this.state.modal.querySelector('.btn-update-record').addEventListener('click', e => {\n                \n//                 // console.log(JSON.parse(_this.state.editor['json'].getValue()));\n\n//                 // send data\n//                 fetch('https://api-v1.kenzap.cloud/', {\n//                     method: 'post',\n//                     headers: H(),\n//                     body: JSON.stringify({\n//                         query: {\n//                             record: {\n//                                 type:       'update',\n//                                 key:        _this.state.key,\n//                                 id:         _this.state._id,         \n//                                 data:       JSON.parse(_this.state.editor['json'].getValue())\n//                             }\n//                         }\n//                     }) \n//                 })\n//                 .then(response => response.json())\n//                 .then(response => {\n\n//                     if (response.success){\n\n//                         toast( __html('Record updated') );\n\n//                         _this.state.modal.querySelector('.restart-table').classList.add('d-none');\n//                         _this.state.modal.querySelector('.btn-update-record').classList.add('d-none');\n//                         _this.getKeyData(key);\n\n//                     }else{\n\n//                         parseApiError(response);\n//                     }\n//                 })\n//                 .catch(error => { parseApiError(error); });\n//             });\n//         }\n\n//         // body\n//         _this.state.modal.querySelector(\".modal-body\").innerHTML = `\n//             <div class=\"row\">\n//                 <div class=\"col-sm-12\">\n//                     <div id=\"editor\" class=\"editor d-none\" style=\"min-height:2000px;\">\n\n\n//                     </div>\n//                     <div class=\"table-responsive\">\n//                         <table class=\"table table-hover table-borderless align-middle table-striped table-p-list\">\n//                             <thead>\n//                                 <tr>\n//                                     <th id=\"table-id-header\">${ __html(\"_id\") }</th>\n//                                     <th>${ __html(\"data\") }</th>\n//                                 </tr>\n//                             </thead>\n//                             <tbody>\n//                             ${\n//                                 response.data.length == 0 ? `<tr><td colspan=\"2\" class=\"text-muted\">${ __html('no data to display') }</td>` : ``\n//                             }\n\n//                             ${\n//                                 response.data.map((obj, i) => {\n\n//                                     return `\n//                                     <tr>\n//                                         <td id=\"table-id${i}\" class=\"table-obj table-id font-monospace\">${ obj._id }</td>\n//                                         <td id=\"table-obj${i}\" data-id=\"${ obj._id }\" class=\"elipsized table-data font-monospace table-obj\" style=\"\">${ html(JSON.stringify(obj)) }</td>\n//                                     </tr>\n//                                     `;\n                                    \n//                                 }).join('')\n//                             }\n//                             </tbody>\n//                         </table>\n//                     </div>\n//                 </div>\n//             </div>\n//         `;\n\n//         _this.state.modalCont.show();\n\n//         // init editor\n//         [...document.querySelectorAll('.table-data')].forEach((row, i) => {\n\n//             row.addEventListener('click', e => {\n\n//                 e.preventDefault();\n\n//                 let obj = _this.state.responseKey.data.filter(el => el._id == e.currentTarget.dataset.id)[0];\n\n//                 document.querySelector('.restart-table').classList.remove('d-none');\n//                 document.querySelector('#editor').classList.remove('d-none');\n//                 document.querySelector('.table-p-list').classList.add('d-none');\n//                 document.querySelector('.btn-update-record').classList.remove('d-none');\n\n//                 _this.state._id = e.currentTarget.dataset.id;\n                \n//                 _this.state.editor['json'] = ace.edit(\"editor\");\n//                 ace.config.set('basePath', 'https://account.kenzap.com/js/ace/');\n//                 // _this.state.editor['json'] .setTheme(\"ace/theme/monokai-light\");\n//                 _this.state.editor['json'].getSession().setMode(\"ace/mode/json\");\n//                 _this.state.editor['json'].setValue(JSON.stringify(obj, null, 2), -1);\n//             });\n//         });\n\n//         if(!_this.state.modalCont || !_this.state.modal){\n\n//         };\n//     },\n//     loadHomeStructure: () => {\n\n//         if(!_this.state.firstLoad) return;\n\n//         // get core html content \n//         document.querySelector('#contents').innerHTML = HTMLContent(__);\n//     },\n//     initFooter: () => {\n        \n//         initFooter(__('Created by %1$Kenzap%2$. ❤️ Licensed %3$GPL3%4$.', '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>', '<a class=\"text-muted\" href=\"https://github.com/kenzap/my-data\" target=\"_blank\">', '</a>'), '');\n//     }\n// }\n\n// _this.init();"],"names":["getCookie","cname","name","decodedCookie","decodeURIComponent","document","cookie","ca","split","i","length","c","charAt","substring","indexOf","getPageNumber","urlParams","URLSearchParams","window","location","search","page","get","parseInt","HTMLContent","__","__html","Dashboard","_this","id","state","firstLoad","showLoader","s","fetch","method","headers","H","body","JSON","stringify","query","keys","type","locale","apps","key","fields","limit","offset","field","sortby","order","dashboard","then","response","json","success","console","log","initHeader","html","render","listeners","initFooter","parseApiError","error","querySelector","innerHTML","self","initBreadcrumbs","link","text","am4core","useTheme","am4themes_animated","chart","create","am4plugins_forceDirected","ForceDirectedTree","networkSeries","series","push","ForceDirectedSeries","myData","forEach","el","title","value","data","dataFields","linkWith","category","children","fixed","nodes","template","propertyFields","x","y","tooltipText","fillOpacity","label","fontSize","maxLevels","hideOversized","truncate","draggable","nodePadding","events","on","ev","modalCont","viewApp","target","currentText","hideLoader","onClick","newApp","e","preventDefault","modal","hide","app","description","keywords","bootstrap","Modal","history","pushState","pageID","pathname","classList","add","addEventListener","trim","status","img","cats","alert","product","toast","getData","show","slugify","filter","localStorage","setItem","ajaxQueue","responseKey","editor"],"mappings":"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AAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;EAC1F,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;EACxF,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;EACxF,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI;EAC1F,EAAE,IAAI,EAAE,IAAI;EACZ,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;EAC1F,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;EACxF,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;EACxF,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI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"}